<!DOCTYPE html>
<!-- saved from url=(0061)file:///C:/Users/User/OneDrive/Desktop/pizza/doc%20index.html -->
<html lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Pizzaria Sabor da Vila â€” CatÃ¡logo Premium</title>

  <!-- Fonts -->
  <link href="./Pizzaria Sabor da Vila â€” CatÃ¡logo Premium index_files/css2" rel="stylesheet">

  <style>
    :root{
      --marsala:#6A1B1A;       /* fundo vermelho marsala */
      --marsala-900:#4A1010;
      --gold:#D4AF37;         /* dourado */
      --ivory:#FAF7F2;        /* off-white */
      --muted:#83766E;
      --white:#ffffff;
      --shadow: 0 12px 30px rgba(0,0,0,0.25);
      --radius:16px;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: 'Poppins', sans-serif;
      color:var(--ivory);
      background: linear-gradient(180deg,var(--marsala) 0%, var(--marsala-900) 100%);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }

    /* Container */
    .wrap{max-width:1200px;margin:0 auto;padding:28px 20px}

    /* Header */
    header{
      background:transparent;
      display:flex;
      gap:20px;
      align-items:center;
      justify-content:space-between;
      padding:18px 0;
    }
    .brand{display:flex;gap:14px;align-items:center}
    .logo-mark{
      width:64px;height:64px;border-radius:12px;
      background:linear-gradient(135deg,var(--gold),rgba(212,175,55,0.6));
      display:flex;align-items:center;justify-content:center;
      box-shadow:var(--shadow);
      font-family:'Playfair Display',serif;color:var(--marsala-900);font-weight:700;
      font-size:22px;
    }
    .brand h1{font-family:'Playfair Display',serif;font-size:20px;color:var(--ivory);margin:0}
    .brand p{font-size:12px;color:rgba(250,247,242,.85);margin-top:3px}

    /* Nav actions */
    .actions{display:flex;gap:12px;align-items:center}
    .btn{
      background:transparent;border:1px solid rgba(255,255,255,.12);color:var(--ivory);
      padding:10px 14px;border-radius:12px;font-weight:600;cursor:pointer;
      transition:all .18s;backdrop-filter: blur(6px)
    }
    .btn.primary{
      background:var(--gold);color:var(--marsala-900);border:none;
      box-shadow:0 8px 20px rgba(0,0,0,0.2);
    }
    .btn:hover{transform:translateY(-3px)}
    .btn.primary:hover{filter:brightness(.95)}

    /* Hero */
    .hero{
      display:grid;
      grid-template-columns: 1fr 480px;
      gap:32px;
      align-items:center;
      margin:28px 0 36px;
    }
    .hero .left h2{
      font-family:'Playfair Display',serif;
      font-size:38px;color:var(--gold);margin-bottom:8px;
      line-height:1.02;
    }
    .hero .left p{color:rgba(250,247,242,.95);font-size:16px;margin-bottom:18px;max-width:680px}
    .hero .kpis{display:flex;gap:12px;flex-wrap:wrap}
    .kpi{background:rgba(255,255,255,.04);padding:10px 14px;border-radius:12px;font-weight:600;color:var(--ivory);font-size:14px}

    .hero .art{
      border-radius:20px;overflow:hidden;box-shadow:var(--shadow);
      border:1px solid rgba(255,255,255,.06)
    }
    .hero .art img{width:100%;height:100%;display:block;object-fit:cover}

    /* Catalog title */
    .section-title{
      text-align:left;color:var(--gold);font-family:'Playfair Display',serif;font-size:26px;margin:8px 0 18px;
    }

    /* Categories */
    .cats{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px}
    .chip{padding:8px 14px;border-radius:999px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.06);color:var(--ivory);cursor:pointer;font-weight:600}
    .chip.active{background:var(--gold);color:var(--marsala-900);box-shadow:0 8px 20px rgba(0,0,0,0.18)}

    /* Grid */
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
      gap:20px;
      margin-bottom:28px;
    }

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,0.04);
      box-shadow: 0 12px 30px rgba(0,0,0,0.25);
      transition:transform .18s;
      display:flex;flex-direction:column;
    }
    .card:hover{transform:translateY(-6px)}
    .card .thumb{height:180px;overflow:hidden}
    .card .thumb img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .35s}
    .card:hover .thumb img{transform:scale(1.06)}
    .card .body{padding:14px;display:flex;flex-direction:column;gap:10px}
    .card h3{font-family:'Playfair Display',serif;color:var(--gold);font-size:18px;margin:0}
    .card p{color:var(--ivory);opacity:.95;font-size:13px;margin:0}
    .card .meta{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .price{color:var(--gold);font-weight:800;font-size:16px}
    .sizes{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
    .size-btn{padding:6px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.06);background:transparent;color:var(--ivory);cursor:pointer;font-weight:600;font-size:13px}
    .size-btn.active{background:var(--gold);color:var(--marsala-900);box-shadow:0 6px 18px rgba(0,0,0,0.18)}

    .card .actions{display:flex;gap:10px;margin-top:8px}
    .add-cart{flex:1;padding:10px;border-radius:10px;border:none;background:var(--gold);color:var(--marsala-900);font-weight:700;cursor:pointer}
    .whatsapp-now{padding:10px;border-radius:10px;border:2px solid rgba(255,255,255,.06);background:transparent;color:var(--ivory);cursor:pointer;font-weight:700}

    /* Cart drawer */
    .cart-btn{
      position:fixed;left:20px;bottom:20px;background:var(--marsala-900);color:var(--gold);width:64px;height:64px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-weight:800;z-index:80;box-shadow:var(--shadow);border:2px solid rgba(255,255,255,.06);cursor:pointer
    }
    .cart-count{position:absolute;right:-6px;top:-6px;background:var(--gold);color:var(--marsala-900);width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:800}

    .drawer{position:fixed;right:-420px;top:0;bottom:0;width:420px;background:var(--ivory);color:var(--marsala-900);box-shadow: -12px 0 30px rgba(0,0,0,0.35);transition:right .28s;padding:18px;z-index:90;border-left:1px solid rgba(0,0,0,.06);display:flex;flex-direction:column}
    .drawer.open{right:0}
    .drawer header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
    .drawer h4{margin:0;font-family:'Playfair Display',serif;color:var(--marsala-900)}
    .close-drawer{background:transparent;border:none;font-size:26px;cursor:pointer;color:var(--muted)}

    .cart-items{flex:1;overflow:auto;padding-right:6px;display:flex;flex-direction:column;gap:12px}
    .ci{background:#fff;border-radius:12px;padding:10px;border:1px solid rgba(0,0,0,.04);display:flex;gap:10px;align-items:center}
    .ci img{width:64px;height:64px;object-fit:cover;border-radius:8px}
    .ci .info{flex:1}
    .ci .title{font-weight:700;color:var(--marsala-900)}
    .ci .small{font-size:13px;color:var(--muted)}
    .ci .qty{display:flex;gap:6px;align-items:center}
    .qty-btn{background:transparent;border:1px solid rgba(0,0,0,.06);padding:6px 8px;border-radius:8px;cursor:pointer}

    .cart-footer{border-top:1px solid rgba(0,0,0,.04);padding-top:12px;display:flex;flex-direction:column;gap:8px}
    .total-row{display:flex;justify-content:space-between;align-items:center;font-weight:800}
    .send-zap{background:var(--marsala-900);color:var(--gold);padding:12px;border-radius:12px;border:none;font-weight:800;cursor:pointer}

    /* Form fields in drawer */
    .field{display:flex;flex-direction:column;gap:6px}
    .field label{font-size:13px;color:var(--marsala-900);font-weight:600}
    .field input,.field textarea{padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,.06);font-size:14px}
    .field textarea{min-height:76px;resize:vertical}

    /* Footer */
    footer{margin-top:36px;padding:28px 0;text-align:center;color:rgba(250,247,242,.9)}

    /* Responsive */
    @media (max-width:980px){
      .hero{grid-template-columns:1fr;gap:18px}
      .drawer{width:100%;right:-100%}
      .drawer.open{right:0}
    }
  </style>
</head>
<body>

  <div class="wrap">
    <!-- Header -->
    <header>
      <div class="brand">
        <div class="logo-mark">SV</div>
        <div>
          <h1>Pizzaria Sabor da Vila</h1>
          <p>Desde 1995 â€” Massa artesanal &amp; ingredientes selecionados</p>
        </div>
      </div>

      <div class="actions">
        <button class="btn" id="btn-combos">Combos</button>
        <button class="btn" id="btn-cardapio">CardÃ¡pio</button>
        <button class="btn primary" id="btn-open-cart">Ver Carrinho</button>
      </div>
    </header>

    <!-- Hero -->
    <section class="hero">
      <div class="left">
        <h2>Sabores que viram tradiÃ§Ã£o â€” peÃ§a e receba em atÃ© 45 minutos</h2>
        <p>PromoÃ§Ã£o de hoje: <strong style="color:var(--gold)">Pizza GG + Refrigerante por R$59</strong>. Clique em adicionar para montar seu pedido â€” vocÃª finalizarÃ¡ tudo no WhatsApp.</p>
        <div class="kpis">
          <div class="kpi">Massa de longa fermentaÃ§Ã£o</div>
          <div class="kpi">Ingredientes selecionados</div>
          <div class="kpi">Entrega quente &amp; rÃ¡pida</div>
        </div>
      </div>

      <div class="art">
        <img src="./Pizzaria Sabor da Vila â€” CatÃ¡logo Premium index_files/photo-1513104890138-7c749659a591" alt="Pizza destaque">
      </div>
    </section>

    <!-- Catalog -->
    <div>
      <div class="section-title">Nosso CardÃ¡pio Premium</div>

      <div class="cats" id="categories">
        <div class="chip active" data-cat="all">Todas</div>
        <div class="chip" data-cat="tradicionais">Tradicionais</div>
        <div class="chip" data-cat="especiais">Especiais</div>
        <div class="chip" data-cat="doces">Doces</div>
        <div class="chip" data-cat="combos">Combos</div>
        <div class="chip" data-cat="bebidas">Bebidas</div>
      </div>

      <div class="grid" id="grid">
        <!-- Each product card includes data attributes used by JS -->
        <!-- Margherita -->
        <article class="card" data-cat="tradicionais" data-id="marg">
          <div class="thumb"><img src="./Pizzaria Sabor da Vila â€” CatÃ¡logo Premium index_files/photo-1574071318508-1cdbab80d002" alt="Margherita"></div>
          <div class="body">
            <h3>Pizza Margherita</h3>
            <p>Molho de tomate, mussarela, manjericÃ£o fresco e azeite extra-virgem.</p>
            <div class="meta">
              <div class="price" data-base="35">R$ 35,00</div>
            </div>

            <div class="sizes" role="tablist">
              <button class="size-btn active" data-price="35" data-size="M">M â€” R$35</button>
              <button class="size-btn" data-price="45" data-size="G">G â€” R$45</button>
              <button class="size-btn" data-price="55" data-size="GG">GG â€” R$55</button>
            </div>

            <div class="actions">
              <button class="add-cart" data-id="marg">Adicionar</button>
              <button class="whatsapp-now" data-id="marg">Pedir agora</button>
            </div>
          </div>
        </article>

        <!-- Calabresa -->
        <article class="card" data-cat="tradicionais" data-id="calab">
          <div class="thumb"><img src="./Pizzaria Sabor da Vila â€” CatÃ¡logo Premium index_files/photo-1595854341625-f33ee10dbf94" alt="Calabresa"></div>
          <div class="body">
            <h3>Pizza Calabresa</h3>
            <p>Mussarela, calabresa fatiada e cebola caramelizada.</p>
            <div class="meta">
              <div class="price" data-base="38">R$ 38,00</div>
            </div>
            <div class="sizes">
              <button class="size-btn active" data-price="38" data-size="M">M â€” R$38</button>
              <button class="size-btn" data-price="48" data-size="G">G â€” R$48</button>
              <button class="size-btn" data-price="58" data-size="GG">GG â€” R$58</button>
            </div>

            <div class="actions">
              <button class="add-cart" data-id="calab">Adicionar</button>
              <button class="whatsapp-now" data-id="calab">Pedir agora</button>
            </div>
          </div>
        </article>

        <!-- Frango Catupiry -->
        <article class="card" data-cat="especiais" data-id="frango">
          <div class="thumb"><img src="./Pizzaria Sabor da Vila â€” CatÃ¡logo Premium index_files/photo-1593504049359-74330189a345" alt="Frango Catupiry"></div>
          <div class="body">
            <h3>Frango com Catupiry</h3>
            <p>Frango desfiado, catupiry cremoso e toque de orÃ©gano.</p>
            <div class="meta">
              <div class="price" data-base="42">R$ 42,00</div>
            </div>
            <div class="sizes">
              <button class="size-btn active" data-price="42" data-size="M">M â€” R$42</button>
              <button class="size-btn" data-price="52" data-size="G">G â€” R$52</button>
              <button class="size-btn" data-price="62" data-size="GG">GG â€” R$62</button>
            </div>

            <div class="actions">
              <button class="add-cart" data-id="frango">Adicionar</button>
              <button class="whatsapp-now" data-id="frango">Pedir agora</button>
            </div>
          </div>
        </article>

        <!-- Portuguesa -->
        <article class="card" data-cat="especiais" data-id="port">
          <div class="thumb"><img src="./Pizzaria Sabor da Vila â€” CatÃ¡logo Premium index_files/photo-1604382354936-07c5d9983bd3" alt="Portuguesa"></div>
          <div class="body">
            <h3>Pizza Portuguesa</h3>
            <p>Presunto, ovos, cebola, pimentÃ£o e azeitonas.</p>
            <div class="meta">
              <div class="price" data-base="45">R$ 45,00</div>
            </div>
            <div class="sizes">
              <button class="size-btn active" data-price="45" data-size="M">M â€” R$45</button>
              <button class="size-btn" data-price="55" data-size="G">G â€” R$55</button>
              <button class="size-btn" data-price="65" data-size="GG">GG â€” R$65</button>
            </div>

            <div class="actions">
              <button class="add-cart" data-id="port">Adicionar</button>
              <button class="whatsapp-now" data-id="port">Pedir agora</button>
            </div>
          </div>
        </article>

        <!-- Chocolate (doce) -->
        <article class="card" data-cat="doces" data-id="choc">
          <div class="thumb"><img src="./Pizzaria Sabor da Vila â€” CatÃ¡logo Premium index_files/photo-1565299624946-b28f40a0ae38" alt="Chocolate"></div>
          <div class="body">
            <h3>Pizza de Chocolate</h3>
            <p>Camada generosa de chocolate ao leite com morangos frescos.</p>
            <div class="meta">
              <div class="price" data-base="40">R$ 40,00</div>
            </div>
            <div class="sizes">
              <button class="size-btn active" data-price="40" data-size="M">M â€” R$40</button>
              <button class="size-btn" data-price="50" data-size="G">G â€” R$50</button>
              <button class="size-btn" data-price="60" data-size="GG">GG â€” R$60</button>
            </div>

            <div class="actions">
              <button class="add-cart" data-id="choc">Adicionar</button>
              <button class="whatsapp-now" data-id="choc">Pedir agora</button>
            </div>
          </div>
        </article>

        <!-- Combo FamÃ­lia -->
        <article class="card" data-cat="combos" data-id="combo1">
          <div class="thumb"><img src="./Pizzaria Sabor da Vila â€” CatÃ¡logo Premium index_files/photo-1513104890138-7c749659a591(1)" alt="Combo Familia"></div>
          <div class="body">
            <h3>Combo FamÃ­lia</h3>
            <p>2 Pizzas Grandes + 2 Refrigerantes 2L. Mix de sabores Ã  escolha.</p>
            <div class="meta">
              <div class="price" data-base="99.9">R$ 99,90</div>
            </div>
            <div class="actions">
              <button class="add-cart" data-id="combo1">Adicionar</button>
              <button class="whatsapp-now" data-id="combo1">Pedir agora</button>
            </div>
          </div>
        </article>

        <!-- Bebidas -->
        <article class="card" data-cat="bebidas" data-id="refri2l">
          <div class="thumb"><img src="./Pizzaria Sabor da Vila â€” CatÃ¡logo Premium index_files/photo-1553456558-aff63285bdd1" alt="Refrigerante 2L"></div>
          <div class="body">
            <h3>Refrigerante 2L</h3>
            <p>Coca-Cola, GuaranÃ¡ ou Sprite â€” escolha no pedido.</p>
            <div class="meta">
              <div class="price" data-base="12">R$ 12,00</div>
            </div>
            <div class="actions">
              <button class="add-cart" data-id="refri2l">Adicionar</button>
              <button class="whatsapp-now" data-id="refri2l">Pedir agora</button>
            </div>
          </div>
        </article>

      </div>
    </div>

    <footer>
      <div>Rua das Pizzas, 123 â€” Vila Pizza â€¢ (73) 98203-7190</div>
      <div style="margin-top:8px;color:rgba(255,255,255,.7)">Aberto hoje atÃ© 23:30 â€” Entrega em atÃ© 45 minutos</div>
    </footer>
  </div>

  <!-- Floating cart button -->
  <button class="cart-btn" id="openCart" aria-label="Abrir carrinho">
    ðŸ§¾
    <div class="cart-count" id="cartCount">0</div>
  </button>

  <!-- Drawer -->
  <aside class="drawer" id="drawer">
    <header>
      <h4>Meu Pedido</h4>
      <button class="close-drawer" id="closeDrawer">Ã—</button>
    </header>

    <div class="cart-items" id="cartItems"><div style="color:var(--muted)">Seu carrinho estÃ¡ vazio â€” adicione itens.</div></div>

    <div class="cart-footer">
      <div class="field">
        <label for="customerName">Nome (obrigatÃ³rio)</label>
        <input id="customerName" placeholder="Seu nome">
      </div>
      <div class="field">
        <label for="customerPhone">Telefone (obrigatÃ³rio)</label>
        <input id="customerPhone" placeholder="(73) 9xxxx-xxxx">
      </div>
      <div class="field">
        <label for="customerAddress">EndereÃ§o (obrigatÃ³rio)</label>
        <input id="customerAddress" placeholder="Rua, nÃºmero, bairro">
      </div>

      <div class="total-row">
        <div>Total</div>
        <div id="cartTotal">R$ 0,00</div>
      </div>

      <button class="send-zap" id="sendWhats">Enviar pedido pelo WhatsApp</button>
      <div style="font-size:12px;color:var(--muted);margin-top:6px">VocÃª serÃ¡ redirecionado para o WhatsApp para confirmar o pedido com a pizzaria.</div>
    </div>
  </aside>

  <script>
    /***************
     * Config
     ***************/
    // WhatsApp full international number (Brasil +55). Given number: 73 98203-7190
    const WHATSAPP_NUM = '5573982037190';

    /***************
     * Helpers
     ***************/
    const q = sel => document.querySelector(sel);
    const qa = sel => Array.from(document.querySelectorAll(sel));
    const money = v => {
      return 'R$ ' + Number(v).toFixed(2).replace('.', ',');
    };

    /***************
     * Category filter
     ***************/
    const chips = qa('.chip');
    const cards = qa('.card');

    chips.forEach(chip => {
      chip.addEventListener('click', () => {
        chips.forEach(c => c.classList.remove('active'));
        chip.classList.add('active');
        const cat = chip.getAttribute('data-cat');
        cards.forEach(card => {
          if (cat === 'all' || card.getAttribute('data-cat') === cat) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
        window.scrollTo({ top: q('.section-title').offsetTop - 20, behavior: 'smooth' });
      });
    });

    /***************
     * Size selection & dynamic price
     ***************/
    qa('.card').forEach(card => {
      const sizeBtns = Array.from(card.querySelectorAll('.size-btn'));
      const priceEl = card.querySelector('.price');

      sizeBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          sizeBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          priceEl.textContent = money(btn.getAttribute('data-price'));
        });
      });
    });

    /***************
     * Cart (local state)
     ***************/
    let cart = []; // {id, title, size, price, qty, img}

    const cartCountEl = q('#cartCount');
    const cartItemsEl = q('#cartItems');
    const cartTotalEl = q('#cartTotal');

    // utility: find product info by id
    function getProductData(cardEl) {
      const id = cardEl.getAttribute('data-id');
      const title = cardEl.querySelector('h3').textContent.trim();
      const img = cardEl.querySelector('.thumb img').src;
      const activeSize = cardEl.querySelector('.size-btn.active');
      const size = activeSize ? activeSize.getAttribute('data-size') : '';
      const price = activeSize ? Number(activeSize.getAttribute('data-price')) : Number(cardEl.querySelector('.price').dataset.base);
      return { id, title, img, size, price };
    }

    function renderCart(){
      cartItemsEl.innerHTML = '';
      if(cart.length === 0){
        cartItemsEl.innerHTML = '<div style="color:var(--muted)">Seu carrinho estÃ¡ vazio â€” adicione itens.</div>';
      } else {
        cart.forEach((it, idx) => {
          const div = document.createElement('div');
          div.className = 'ci';
          div.innerHTML = `
            <img src="${it.img}" alt="${it.title}">
            <div class="info">
              <div class="title">${it.title} <span style="font-weight:600;color:var(--muted);font-size:13px">â€¢ ${it.size}</span></div>
              <div class="small">${money(it.price)} x ${it.qty} = <strong>${money(it.price * it.qty)}</strong></div>
            </div>
            <div style="display:flex;flex-direction:column;gap:8px;align-items:center">
              <div class="qty">
                <button class="qty-btn" data-idx="${idx}" data-action="dec">âˆ’</button>
                <div style="padding:6px 10px">${it.qty}</div>
                <button class="qty-btn" data-idx="${idx}" data-action="inc">+</button>
              </div>
              <button class="qty-btn" data-idx="${idx}" data-action="rm" style="background:#ffeed0;border:1px solid rgba(0,0,0,.04)">âœ•</button>
            </div>
          `;
          cartItemsEl.appendChild(div);
        });
      }

      // totals
      const subtotal = cart.reduce((s,i)=> s + i.price * i.qty, 0);
      cartTotalEl.textContent = money(subtotal);
      cartCountEl.textContent = cart.reduce((s,i)=> s + i.qty, 0);
    }

    // add item
    qa('.add-cart').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const card = e.target.closest('.card');
        const p = getProductData(card);
        // key by id+size
        const key = p.id + '|' + p.size;
        const exists = cart.find(i => i.key === key);
        if(exists){
          exists.qty += 1;
        } else {
          cart.push({ key, id:p.id, title:p.title, size:p.size, price:p.price, qty:1, img:p.img });
        }
        openDrawer();
        renderCart();
      });
    });

    // quick whatsapp for single item
    qa('.whatsapp-now').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const card = e.target.closest('.card');
        const p = getProductData(card);
        const msg = buildMessage([{ title:p.title, size:p.size, qty:1, price:p.price }], 0, {
          name:'', phone:'', address:'', notes:''
        });
        openWhatsApp(msg);
      });
    });

    // cart item qty controls (delegation)
    cartItemsEl.addEventListener('click', (e) => {
      const btn = e.target.closest('button');
      if(!btn) return;
      const idx = Number(btn.getAttribute('data-idx'));
      const action = btn.getAttribute('data-action');
      if(action === 'inc') cart[idx].qty += 1;
      if(action === 'dec'){ cart[idx].qty -= 1; if(cart[idx].qty <= 0) cart.splice(idx,1); }
      if(action === 'rm') cart.splice(idx,1);
      renderCart();
    });

    /***************
     * Drawer open/close
     ***************/
    const drawer = q('#drawer');
    const openCartBtn = q('#openCart');
    const closeDrawerBtn = q('#closeDrawer');
    const btnOpenCartHeader = q('#btn-open-cart');

    function openDrawer(){ drawer.classList.add('open'); }
    function closeDrawer(){ drawer.classList.remove('open'); }

    openCartBtn.addEventListener('click', openDrawer);
    closeDrawerBtn.addEventListener('click', closeDrawer);
    btnOpenCartHeader.addEventListener('click', openDrawer);

    /***************
     * Build WhatsApp message & send
     ***************/
    function buildMessage(items, deliveryFee=0, customer){
      // items: [{title,size,qty,price}]
      const date = new Date();
      let lines = [];
      lines.push('ðŸ• *Pedido - Pizzaria Sabor da Vila*');
      lines.push('');
      items.forEach((it, i) => {
        lines.push(`${i+1}x ${it.title} ${it.size ? '('+it.size+')' : ''} â€” R$ ${Number(it.price*it.qty).toFixed(2).replace('.',',')}`);
      });
      lines.push('');
      const subtotal = items.reduce((s,i)=> s + i.price * i.qty, 0);
      if(deliveryFee) lines.push(`Taxa de entrega: R$ ${deliveryFee.toFixed(2).replace('.',',')}`);
      lines.push(`*Total: R$ ${subtotal.toFixed(2).replace('.',',')}*`);
      lines.push('');
      lines.push('*Dados para entrega:*');
      lines.push(`Nome: ${customer.name || '-'}`);
      lines.push(`Telefone: ${customer.phone || '-'}`);
      lines.push(`EndereÃ§o: ${customer.address || '-'}`);
      if(customer.notes) { lines.push(`ObservaÃ§Ãµes: ${customer.notes}`); }
      lines.push('');
      lines.push(`ðŸ•’ ${date.toLocaleString('pt-BR')}`);
      return encodeURIComponent(lines.join('\n'));
    }

    function openWhatsApp(encodedMessage){
      const url = `https://wa.me/${WHATSAPP_NUM}?text=${encodedMessage}`;
      window.open(url, '_blank');
    }

    // Send cart via WhatsApp (collect customer fields first)
    q('#sendWhats').addEventListener('click', () => {
      if(cart.length === 0){
        alert('Adicione pelo menos um item ao carrinho antes de enviar o pedido.');
        return;
      }
      const name = q('#customerName').value.trim();
      const phone = q('#customerPhone').value.trim();
      const address = q('#customerAddress').value.trim();
      if(!name || !phone || !address){
        alert('Por favor preencha Nome, Telefone e EndereÃ§o antes de enviar o pedido.');
        return;
      }
      const notes = ''; // optional field could be added
      const itemsForMsg = cart.map(i => ({ title:i.title, size:i.size, qty:i.qty, price:i.price }));
      const msg = buildMessage(itemsForMsg, 0, {name, phone, address, notes});
      openWhatsApp(msg);
    });

    /***************
     * Optional: header buttons (anchor)
     ***************/
    q('#btn-cardapio').addEventListener('click', () => {
      window.scrollTo({top: q('.section-title').offsetTop - 20, behavior:'smooth'});
    });
    q('#btn-combos').addEventListener('click', () => {
      // highlight combos category
      qa('.chip').forEach(c => c.classList.remove('active'));
      const combos = qa('.chip').find ? qa('.chip').find(c=>c.dataset.cat==='combos') : null;
      // fallback: find by attribute and set active
      qa('.chip').forEach(c => { if(c.dataset.cat==='combos') c.classList.add('active') });
      cards.forEach(card=> card.style.display = (card.dataset.cat === 'combos') ? 'block' : 'none');
      window.scrollTo({top: q('.section-title').offsetTop - 20, behavior:'smooth'});
    });

    // Initialize cart rendering
    renderCart();
  </script>



</body></html>